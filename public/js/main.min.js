$(document).ready(function(){function c(){var B=$(window).scrollTop(),C=$(window).height();B>C?$('.scroll-up').addClass('active'):$('.scroll-up').removeClass('active')}function l(){0<$(window).scrollTop()?x.addClass('sticky'):x.removeClass('sticky')}function o(B){var C=$(window).scrollTop(),D=$('.villa-nav').height(),E=$('.villa-nav').offset().top,F=$('.villa-page--wrap').height();C>E?C<E+F-0.5*D?(B.removeClass('absolute'),B.addClass('fixed')):(B.removeClass('fixed'),B.addClass('absolute')):B.removeClass('fixed absolute')}function p(){$('[data-nav-part]').click(function(){var B=$('.villa-nav').height(),C=$(this).attr('data-nav-part'),D=$('[data-villa-part="'+C+'"]').offset().top;B=0.5*B+20,$('html,body').animate({scrollTop:D-B},300)})}function s(B,C){var D=$(window).scrollTop(),E=$(window).height(),F=$('.villa-nav').height(),G=B.offset().top,H=B.height(),I=B.find('.villa-request').height();D>G-2*F?D<H-I-C+G?(B.removeClass('absolute'),B.addClass('fixed')):(B.removeClass('fixed'),B.addClass('absolute')):(B.removeClass('fixed absolute'),B.find('.villa-request').attr('style',''))}var u=$('#search_btn'),v=$('.nav'),w=$('.language'),x=$('#header'),y=u.closest('.search');$('.scroll-up').click(function(){$('html,body').animate({scrollTop:0},400)}),$('.scroll-down').click(function(){var B=$(window).height();$('html,body').animate({scrollTop:B-60},600)});var z=2;$('html').hasClass('mobile')?z=1:$('html').hasClass('tablet')&&767>$(window).width()&&(z=1),$('#burger').click(function(){$(this).toggleClass('active'),$('#header').toggleClass('show-menu'),$('html').toggleClass('ovh')});var A=$(document.body).touchOrMouse('init');$('.show-modal').click(function(B){B.preventDefault();var C=$(this).attr('data-modal');$('html').addClass('ovh'),$('.modal').find('[data-modal="'+C+'"]').addClass('active'),$('.modal').addClass('active')}),$('.modal .close').click(function(B){B.preventDefault(),$('html').removeClass('ovh'),$('.modal').removeClass('active'),$('.modal').find('[data-modal]').removeClass('active'),$('.successful').removeClass('successful')}),$('.form-success .close').click(function(B){B.preventDefault(),$('.successful').removeClass('successful')}),$('.toggleVilla').click(function(){$('.villa-layout--side').toggleClass('active')}),function(){u.click(function(){600<=$(window).width()?(y.addClass('active'),v.addClass('hidden')):y.addClass('active')})}(),function(){$(document).click(function(B){var C=$(B.target);0==C.parents('#searchForm').length&&0==C.parents('#search_btn').length&&(y.removeClass('active'),v.removeClass('hidden')),0==C.parents('.language').length&&w.removeClass('show')})}(),function(){$('.has-submenu').each(function(){var E=$(this),F=E.find('.submenu');E.click(function(G){'touch'===A.touchOrMouse('get',G)&&E.toggleClass('show')}).mouseenter(function(G){'mouse'===A.touchOrMouse('get',G)&&E.addClass('show')}).mouseleave(function(G){'mouse'===A.touchOrMouse('get',G)&&E.removeClass('show')})})}(),c(),0==$('#header.static').length&&l(),0<$('select').length&&function(){$('select').each(function(){$(this).select2({dropdownCssClass:'custom-select',minimumResultsForSearch:Infinity}),$(this).on('select2:select',function(){$(this).closest('.field').removeClass('invalid')})})}(),0<$('[data-picker-full]').length&&function(){var E,B=new Date,C='arrivalDate',D='departureDate',F=$('#'+C+',#'+D).datepicker({changeMonth:!0,changeYear:!0,numberOfMonths:z,minDate:B,beforeShow:function(){E=1<z?$('#picker'):$('#mobile_picker');var I=E,J=I.offset().top,K=$(window).scrollTop();K>J-350?I.addClass('down'):I.addClass('up'),I.addClass('show'),I.find('.calendar').prepend($('#ui-datepicker-div')),0<$('.villa-request').length&&$('.villa-request .pickerfields .input').addClass('filled'),setTimeout(function(){$('#'+C+',#'+D).blur()},50)},onClose:function(){E.removeClass('show up down'),0<$('.villa-request').length&&''==$('#arrivalDate').val()&&''==$('#departureDate').val()&&$('.villa-request .pickerfields .input').removeClass('filled')},onSelect:function(I){var J=this.id==C?'minDate':'maxDate',K=$(this).data('datepicker'),L=$.datepicker.parseDate(K.settings.dateFormat||$.datepicker._defaults.dateFormat,I,K.settings);F.not(this).datepicker('option',J,L),''!=$('#'+C).val()&&$('#'+C).closest('.field').removeClass('invalid'),''!=$('#'+D).val()&&$('#'+D).closest('.field').removeClass('invalid')}}),G,H;$('#check_in').val()&&$('#check_out').val()&&(G=$.datepicker.parseDate('dd.mm.yy',$('#check_in').val()),H=$.datepicker.parseDate('dd.mm.yy',$('#check_out').val())),$('#'+C).datepicker('setDate',G||'today'),$('#'+D).datepicker('setDate',H||'+1w')}(),0<$('[data-picker-fast]').length&&function(){var E,B=new Date,C='check_in',D='check_out',F=$('#'+C+',#'+D).datepicker({changeMonth:!0,changeYear:!0,numberOfMonths:z,minDate:B,beforeShow:function(){E=1<z?$('#fastpicker'):$('#mobile_fastpicker');var I=E,J=I.offset().top,K=$(window).scrollTop();K>J-400?I.addClass('down'):I.addClass('up'),I.addClass('show'),I.find('.calendar').prepend($('#ui-datepicker-div')),setTimeout(function(){$('#'+C+',#'+D).blur()},50)},onClose:function(){E.removeClass('show up down')},onSelect:function(I){var J=this.id==C?'minDate':'maxDate',K=$(this).data('datepicker'),L=$.datepicker.parseDate(K.settings.dateFormat||$.datepicker._defaults.dateFormat,I,K.settings);F.not(this).datepicker('option',J,L),''!=$('#'+C).val()&&$('#'+C).closest('.field').removeClass('invalid'),''!=$('#'+D).val()&&$('#'+D).closest('.field').removeClass('invalid')}}),G,H;$('#check_in').val()&&$('#check_out').val()&&(G=$.datepicker.parseDate('dd.mm.yy',$('#check_in').val()),H=$.datepicker.parseDate('dd.mm.yy',$('#check_out').val())),$('#'+C).datepicker('setDate',G||'today'),$('#'+D).datepicker('setDate',H||'+1w')}(),0<$('.villa-carousel').length&&function(){$('.villa-carousel').owlCarousel({loop:!0,nav:!0,navText:['',''],dots:!1,items:1}),$('.show-gallery').click(function(B){B.preventDefault(),$('.villa-carousel').addClass('active'),$('.hide-gallery').addClass('active')}),$('.hide-gallery').click(function(B){B.preventDefault(),$('.villa-carousel').removeClass('active'),$('.hide-gallery').removeClass('active')})}(),0<$('.villa-gallery').length&&function(){$('.royalSlider').royalSlider({arrowsNav:!0,loop:!0,controlsInside:!1,imageScaleMode:'fit-if-smaller',arrowsNavAutoHide:!1,autoScaleSlider:!0,controlNavigation:'bullets',thumbsFitInViewport:!1,navigateByClick:!1,startSlideId:0,autoPlay:!1,transitionType:'move',numImagesToPreload:2,globalCaption:!0,deeplinking:{enabled:!0,change:!1}}),$('.show-gallery').click(function(B){B.preventDefault(),$('.villa-gallery').addClass('active'),$('html').addClass('ovh')}),$('.villa-gallery .close').click(function(B){B.preventDefault(),$('.villa-gallery').removeClass('active'),$('html').removeClass('ovh')}),$(document).keyup(function(B){27===B.keyCode&&($('.villa-gallery').removeClass('active'),$('html').removeClass('ovh'))})}(),0<$('.dynamic').length&&function(){$('.dynamic').addClass('scaling')}(),0<$('.add-fieldset').length&&function(){var B=$('#addFieldset'),C=$('.add-fieldset'),D=B.next('.fieldset').find('input').attr('id'),E=1;B.click(function(){var F=B.next('.fieldset'),G=F.clone();G.addClass('added-input'),G.find('input').attr('id',D+E),E++,F.find('input').val(''),F.after(G)})}(),0<$('.villa-nav').length&&function(){var B=$('#villaNav');o(B),p(),$(window).scroll(function(){o(B)})}(),0<$('.villa-request').length&&(function(){function B(C){''==C.val().trim()?C.parent().removeClass('filled'):C.parent().addClass('filled')}$('.villa-request .input input').each(function(){B($(this))}),$('.villa-request .input input').change(function(){B($(this))})}(),function(){var B=$('.villa-layout--side'),C=B.find('.villa-request').height();s(B,C),$(window).scroll(function(){s(B,C)})}()),0<$('#file-upload').length&&function(){document.getElementById('file-upload').addEventListener('change',function(C){document.getElementById('file-name').textContent=C.target.files[0].name})}(),$(window).resize(function(){c()}),$(window).scroll(function(){c(),0==$('#header.static').length&&l()})});