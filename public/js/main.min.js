$(document).ready(function(){var e=$("#search_btn"),a=$(".nav"),t=$(".language"),l=e.closest(".search");var s=2;$("html").hasClass("mobile")?s=1:$("html").hasClass("tablet")&&$(window).width()<767&&(s=1),$("#burger").click(function(){$(this).toggleClass("active"),$("#header").toggleClass("show-menu"),$("html").toggleClass("ovh")});var i,n,o,d,c,r,u,v,h,f,m,p,g,C,k,w,D,y,b,_,x=$(document.body).touchOrMouse("init");function q(e){var a=$(window).scrollTop(),t=$(".villa-nav").height(),l=$(".villa-nav").offset().top,s=$(".villa-page--wrap").height();a>l?a<l+s-.5*t?(e.removeClass("absolute"),e.addClass("fixed")):(e.removeClass("fixed"),e.addClass("absolute")):e.removeClass("fixed absolute")}function M(e,a){var t=$(window).scrollTop(),l=($(window).height(),$(".villa-nav").height()),s=e.offset().top,i=e.height(),n=e.find(".villa-request").height();t>s-2*l?t<i-n-a+s?(e.removeClass("absolute"),e.addClass("fixed")):(e.removeClass("fixed"),e.addClass("absolute")):(e.removeClass("fixed absolute"),e.find(".villa-request").attr("style",""))}$(".show-modal").click(function(e){e.preventDefault();var a=$(this).attr("data-modal");$("html").addClass("ovh"),$(".modal").find('[data-modal="'+a+'"]').addClass("active"),$(".modal").addClass("active")}),$(".modal .close").click(function(e){e.preventDefault(),$("html").removeClass("ovh"),$(".modal").removeClass("active"),$(".modal").find("[data-modal]").removeClass("active"),$(".successful").removeClass("successful")}),$(".form-success .close").click(function(e){e.preventDefault(),$(".successful").removeClass("successful")}),$(".toggleVilla").click(function(){$(".villa-layout--side").toggleClass("active")}),e.click(function(){$(window).width()>=600?(l.addClass("active"),a.addClass("hidden")):l.addClass("active")}),$(document).click(function(e){var s=$(e.target);0==s.parents("#searchForm").length&&0==s.parents("#search_btn").length&&(l.removeClass("active"),a.removeClass("hidden")),0==s.parents(".language").length&&t.removeClass("show")}),$(".has-submenu").each(function(){var e=$(this);e.find(".submenu"),e.click(function(a){"touch"===x.touchOrMouse("get",a)&&e.toggleClass("show")}).mouseenter(function(a){"mouse"===x.touchOrMouse("get",a)&&e.addClass("show")}).mouseleave(function(a){"mouse"===x.touchOrMouse("get",a)&&e.removeClass("show")})}),$("select").length>0&&$("select").each(function(){$(this).select2({dropdownCssClass:"custom-select",minimumResultsForSearch:1/0}),$(this).on("select2:select",function(e){$(this).closest(".field").removeClass("invalid")})}),$("[data-picker-full]").length>0&&(d=new Date,c="arrivalDate",r="departureDate",u=$("#"+c+",#"+r).datepicker({changeMonth:!0,changeYear:!0,numberOfMonths:s,minDate:d,beforeShow:function(){var e=i=s>1?$("#picker"):$("#mobile_picker"),a=e.offset().top;$(window).scrollTop()>a-350?e.addClass("down"):e.addClass("up"),e.addClass("show"),e.find(".calendar").prepend($("#ui-datepicker-div")),$(".villa-request").length>0&&$(".villa-request .pickerfields .input").addClass("filled"),setTimeout(function(e){$("#"+c+",#"+r).blur()},50)},onClose:function(){i.removeClass("show up down"),$(".villa-request").length>0&&""==$("#arrivalDate").val()&&""==$("#departureDate").val()&&$(".villa-request .pickerfields .input").removeClass("filled")},onSelect:function(e){var a=this.id==c?"minDate":"maxDate",t=$(this).data("datepicker"),l=$.datepicker.parseDate(t.settings.dateFormat||$.datepicker._defaults.dateFormat,e,t.settings);u.not(this).datepicker("option",a,l),""!=$("#"+c).val()&&$("#"+c).closest(".field").removeClass("invalid"),""!=$("#"+r).val()&&$("#"+r).closest(".field").removeClass("invalid")}}),$("#check_in").val()&&$("#check_out").val()&&(n=$.datepicker.parseDate("dd.mm.yy",$("#check_in").val()),o=$.datepicker.parseDate("dd.mm.yy",$("#check_out").val())),$("#"+c).datepicker("setDate",n||"today"),$("#"+r).datepicker("setDate",o||"+1w")),$("[data-picker-fast]").length>0&&(m=new Date,p="check_in",g="check_out",C=$("#"+p+",#"+g).datepicker({changeMonth:!0,changeYear:!0,numberOfMonths:s,minDate:m,beforeShow:function(){var e=v=s>1?$("#fastpicker"):$("#mobile_fastpicker"),a=e.offset().top;$(window).scrollTop()>a-400?e.addClass("down"):e.addClass("up"),e.addClass("show"),e.find(".calendar").prepend($("#ui-datepicker-div")),setTimeout(function(e){$("#"+p+",#"+g).blur()},50)},onClose:function(){v.removeClass("show up down")},onSelect:function(e){var a=this.id==p?"minDate":"maxDate",t=$(this).data("datepicker"),l=$.datepicker.parseDate(t.settings.dateFormat||$.datepicker._defaults.dateFormat,e,t.settings);C.not(this).datepicker("option",a,l),""!=$("#"+p).val()&&$("#"+p).closest(".field").removeClass("invalid"),""!=$("#"+g).val()&&$("#"+g).closest(".field").removeClass("invalid")}}),$("#check_in").val()&&$("#check_out").val()&&(h=$.datepicker.parseDate("dd.mm.yy",$("#check_in").val()),f=$.datepicker.parseDate("dd.mm.yy",$("#check_out").val())),$("#"+p).datepicker("setDate",h||"today"),$("#"+g).datepicker("setDate",f||"+1w")),$(".villa-carousel").length>0&&($(".villa-carousel").owlCarousel({loop:!0,nav:!0,navText:["",""],dots:!1,items:1}),$(".show-gallery").click(function(e){e.preventDefault(),$(".villa-carousel").addClass("active"),$(".hide-gallery").addClass("active")}),$(".hide-gallery").click(function(e){e.preventDefault(),$(".villa-carousel").removeClass("active"),$(".hide-gallery").removeClass("active")})),$(".dynamic").length>0&&$(".dynamic").addClass("scaling"),$(".add-fieldset").length>0&&(k=$("#addFieldset"),$(".add-fieldset"),w=k.next(".fieldset").find("input").attr("id"),D=1,k.click(function(){var e=k.next(".fieldset"),a=e.clone();a.addClass("added-input"),a.find("input").attr("id",w+D),D++,e.find("input").val(""),e.after(a)})),$(".villa-nav").length>0&&(q(y=$("#villaNav")),$("[data-nav-part]").click(function(){var e=$(".villa-nav").height(),a=$(this).attr("data-nav-part"),t=$('[data-villa-part="'+a+'"]').offset().top;e=.5*e+20,$("html,body").animate({scrollTop:t-e},300)}),$(window).scroll(function(){q(y)})),$(".villa-request").length>0&&(!function(){function e(e){""!=e.val().trim()?e.parent().addClass("filled"):e.parent().removeClass("filled")}$(".villa-request .input input").each(function(){e($(this))}),$(".villa-request .input input").change(function(){e($(this))})}(),b=$(".villa-layout--side"),_=b.find(".villa-request").height(),M(b,_),$(window).scroll(function(){M(b,_)})),$("#file-upload").length>0&&document.getElementById("file-upload").addEventListener("change",function(e){document.getElementById("file-name").textContent=e.target.files[0].name}),$(window).resize(function(){}),$(window).scroll(function(e){})});